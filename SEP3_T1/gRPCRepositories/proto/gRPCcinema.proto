syntax = "proto3";
option java_multiple_files = true;

package grpccinema;

message DTOCustomer
{
  string name = 1;
  string password = 2;
  string email = 3;
  int32 phone = 4;
}

message GetCustomersRequest
{
}

message GetCustomersResponse
{
  repeated DTOCustomer customers = 1;
}

message GetCustomerByPhoneRequest
{
  int32 phone = 1;
}

message GetCustomerByPhoneResponse
{
  DTOCustomer customer = 1;
}

message SaveCustomerRequest {
  DTOCustomer customer = 1;
}

message SaveCustomerResponse {
  DTOCustomer customer = 1;
}

message DTOHall{
  int32 id = 1;
  int32 number = 2;
  int32 layout = 3;

}

message GetHallsRequest{}

message GetHallsResponse{
 repeated DTOHall halls = 1;
}

message GetHallByIdRequest{
  int32 id = 1;
}

message GetHallByIdResponse{
  DTOHall hall = 1;
}
service CinemaService
{
  rpc GetCustomers (GetCustomersRequest) returns (GetCustomersResponse);
  rpc GetCustomerByPhone (GetCustomerByPhoneRequest) returns (GetCustomerByPhoneResponse);
  rpc SaveCustomer(SaveCustomerRequest) returns (SaveCustomerResponse);
  rpc GetHalls (GetHallsRequest) returns (GetHallsResponse);
  rpc GetHallByID (GetHallByIdRequest) returns (GetHallByIdResponse);
}

message DTOScreening{
  int32 id = 1;
  string movieTitle = 2;
  int32 screeningTime = 3;
  int32 hallId = 4;
}

message GetAllScreeningsRequest{
  repeated DTOScreening screenings = 1;
}